<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">[鐵人賽 2022-擊敗前端面試大作戰] Image ant text optimization | Bywater-blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/bywater-blog/ironMan2022/ImageOptimization"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="[鐵人賽 2022-擊敗前端面試大作戰] Image ant text optimization | Bywater-blog"><meta data-react-helmet="true" name="description" content="今天要來針對昨天討論到 core web vital 的優化方法做更深入的討論！記得昨天討論到 Largest Contentful Paint(LCP)，然後我們有講到要解決 LCP 的一個方法就是假如畫面中有大型照片的話可以使用畫面優化來減少 LCP 的數字！今天就會針對照片的優化來討論，會講到以下四種優化圖片的方式："><meta data-react-helmet="true" property="og:description" content="今天要來針對昨天討論到 core web vital 的優化方法做更深入的討論！記得昨天討論到 Largest Contentful Paint(LCP)，然後我們有講到要解決 LCP 的一個方法就是假如畫面中有大型照片的話可以使用畫面優化來減少 LCP 的數字！今天就會針對照片的優化來討論，會講到以下四種優化圖片的方式："><link data-react-helmet="true" rel="shortcut icon" href="/bywater-blog/img/docusaurus.png"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/bywater-blog/ironMan2022/ImageOptimization"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/bywater-blog/ironMan2022/ImageOptimization" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/bywater-blog/ironMan2022/ImageOptimization" hreflang="x-default"><link rel="stylesheet" href="/bywater-blog/assets/css/styles.e09f0ac1.css">
<link rel="preload" href="/bywater-blog/assets/js/runtime~main.4cec0ec3.js" as="script">
<link rel="preload" href="/bywater-blog/assets/js/main.4f39f6a4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/bywater-blog/"><img src="/bywater-blog/img/docusaurus.png" alt="Bywater-blog Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/bywater-blog/img/docusaurus.png" alt="Bywater-blog Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Bywater-blog</b></a><a class="navbar__item navbar__link navbar__link--active" href="/bywater-blog/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/0529bill" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.linkedin.com/in/lin-tse-175b4a158/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://0529bill.github.io/portfolio/#/portfolio/Resume" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Resume<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/bywater-blog/">Hi!我是 bywater,這是我的 tech blog!</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Javascript</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Optimization</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">React</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">ironMan2022</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/day1_start">[鐵人賽 2022-擊敗前端面試大作戰] 開賽</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/html_css">[鐵人賽 2022-擊敗前端面試大作戰] HTML/CSS</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/searchData">[鐵人賽 2022-擊敗前端面試大作戰] 寫在前面-免費前端學習資源看這篇就夠了！</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/let">[鐵人賽 2022-擊敗前端面試大作戰] let,const, var and hoisting</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/closure">[鐵人賽 2022-擊敗前端面試大作戰] Closure 閉包</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/promise">[鐵人賽 2022-擊敗前端面試大作戰] Promise</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/prototype">[鐵人賽 2022-擊敗前端面試大作戰] prototype and prototype chain</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/executionContext">[鐵人賽 2022-擊敗前端面試大作戰] The Execution Context, Call-stack and Event Loop</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/polyfills">[鐵人賽 2022-擊敗前端面試大作戰] Polyfills and Transpiler</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/promise_implementation">[鐵人賽 2022-擊敗前端面試大作戰] 實作 promise, promise.all, promise.race</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/arrayMethod">[鐵人賽 2022-擊敗前端面試大作戰] Array&#x27;s method</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/day12_react">[鐵人賽 2022-擊敗前端面試大作戰] React</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/react_reconciliation">[鐵人賽 2022-擊敗前端面試大作戰] React Reconciliation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/react_hooks">[鐵人賽 2022-擊敗前端面試大作戰] React Hooks</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/React18">[鐵人賽 2022-擊敗前端面試大作戰] React 18</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/day16_typescript">[鐵人賽 2022-擊敗前端面試大作戰] 什麼是 Typescript?</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/TS_types">[鐵人賽 2022-擊敗前端面試大作戰] Typescript Basics</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/generics">[鐵人賽 2022-擊敗前端面試大作戰] Typescript Generics and Utility types</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/narrowing">[鐵人賽 2022-擊敗前端面試大作戰] Typescript narrowing and Type guard</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/day20_clientOptimization">[鐵人賽 2022-擊敗前端面試大作戰] client optimization</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/coreWebVital">[鐵人賽 2022-擊敗前端面試大作戰] Core Web Vital and lighthouse</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/bywater-blog/ironMan2022/ImageOptimization">[鐵人賽 2022-擊敗前端面試大作戰] Image ant text optimization</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/CSR">[鐵人賽 2022-擊敗前端面試大作戰] client-side-rendering vs server-side-rendering</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/reactOptimization">[鐵人賽 2022-擊敗前端面試大作戰] 三人行必有我師焉 ---- useMemo vs React.memo vs useCallback 三種優化 React 的方法！</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/htmlTrivia">[鐵人賽 2022-擊敗前端面試大作戰] HTTP trivia</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/enterURl">[鐵人賽 2022-擊敗前端面試大作戰]在網頁中輸入 URL 之後送出發生了什麼事？</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/sideProject">[鐵人賽 2022-擊敗前端面試大作戰]面試加分利器－－－side project</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/behaviorQuestions">[鐵人賽 2022-擊敗前端面試大作戰]Behavior Questions</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/resume">[鐵人賽 2022-擊敗前端面試大作戰] 前端工程師怎麼寫出滿分前端履歷</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/bywater-blog/ironMan2022/finish">[鐵人賽 2022-擊敗前端面試大作戰] 完賽拉！</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">others</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>[鐵人賽 2022-擊敗前端面試大作戰] Image ant text optimization</h1></header><p>今天要來針對昨天討論到 core web vital 的優化方法做更深入的討論！記得昨天討論到 Largest Contentful Paint(LCP)，然後我們有講到要解決 LCP 的一個方法就是假如畫面中有大型照片的話可以使用畫面優化來減少 LCP 的數字！今天就會針對照片的優化來討論，會講到以下四種優化圖片的方式：</p><ol><li>preload</li><li>使用合適的圖片格式</li><li>用 image CDN</li><li>線上壓縮圖片</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="preload-的功能"></a>preload 的功能？<a class="hash-link" href="#preload-的功能" title="Direct link to heading">#</a></h2><p>preload 是<code>&lt;link&gt;</code>裡面的一個 type，它可以告訴瀏覽器該資源需要提早載入，而能夠被 preload 的有 image,audio,style, video 等等。</p><p>使用方法</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//假設我們有一個img長這樣</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">img src</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;wolf.jpg&quot;</span><span class="token plain"> srcset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;wolf_400px.jpg 400w, wolf_800px.jpg 800w, wolf_1600px.jpg 1600w&quot;</span><span class="token plain"> sizes</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;50vw&quot;</span><span class="token plain"> alt</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;A rad wolf&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//那在 link 裡我們就可以適用 preload 的方式來預先載入該圖片</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">link rel</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;preload&quot;</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">as</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;image&quot;</span><span class="token plain"> href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;wolf.jpg&quot;</span><span class="token plain"> imagesrcset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;wolf_400px.jpg 400w, wolf_800px.jpg 800w, wolf_1600px.jpg 1600w&quot;</span><span class="token plain"> imagesizes</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;50vw&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><strong>注意:過度使用 preload 反而會造成冷效果</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="額外補充-preload-vs-prefetch-vs-preconnect"></a>額外補充： preload vs prefetch vs preconnect<a class="hash-link" href="#額外補充-preload-vs-prefetch-vs-preconnect" title="Direct link to heading">#</a></h3><p><a href="https://shubo.io/preload-prefetch-preconnect/#caching-%E8%A1%8C%E7%82%BA" target="_blank" rel="noopener noreferrer">https://shubo.io/preload-prefetch-preconnect/#caching-%E8%A1%8C%E7%82%BA</a></p><p>async：立即下载（异步，不会阻碍文档解析），异步执行（执行的时候会阻碍文档解析）
defer：立即下载（异步，不会阻碍文档解析），延迟执行，在整个页面都解析完毕后执行
preload：提前下载，需要的时候立即执行，无需再下载
prefetch：提前下载，在未来的某个页面可能会执行，节省下载时间</p><p>Resources:
<a href="https://juejin.cn/post/7117142442926686215#heading-10" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7117142442926686215#heading-10</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="使用合適的圖片格式"></a>使用合適的圖片格式<a class="hash-link" href="#使用合適的圖片格式" title="Direct link to heading">#</a></h2><p>第二個圖片優化的方法就是去看我們使用的我們使用的圖片格式是什麼，然後看能不能透過更改格式的方式來達到圖片的優化。首先我們先來介紹常見的圖片格式，圖片格式可以分成兩類，一種是 Vector graphics(向量圖檔)，另外一種則是 Raster graphics(點陣圖檔)。Raster graphics 的優點是他的色彩顯示畫質很精細，但是他在放大時畫面會變模糊，常見的 Vector graphics 包含 GIF、JPEG、PNG，而 Vector graphics 的優點是它在放大縮小時都會保持一樣的銳利度，而且他的檔案大小非常小，缺點是其不適合用在色彩鮮豔的圖片。常見的 Vector graphics 有 SVG。</p><table><thead><tr><th align="left"></th><th align="center">常見格式</th><th align="right">優點</th><th align="right">缺點</th></tr></thead><tbody><tr><td align="left">Vector graphics</td><td align="center">SVG</td><td align="right">1. 可擴展性，代表檔案不管放大或是縮小都會保持一樣的銳利度。2. 檔案小 3. 適合用在圖案是簡單幾何圖形或是文字。4. 以上幾點，適用用在小的圖片上，像是用在網頁的 logo 上</td><td align="right">不適合用在顏色鮮豔、圖案複雜的照片</td></tr><tr><td align="left">Raster graphics</td><td align="center">GIF, JPEG, PNG</td><td align="right">色彩顯示更精細</td><td align="right">放大時，畫面會變模糊</td></tr></tbody></table><p>通常前端在處理圖片時，很多時候是在處理 GIF、JPEG、PNG 等等格式的圖檔，這裡我們就這幾種來優缺利弊分析一下，這樣我們下次前端處理圖檔時，就可以把耗費資源的圖片格式改成檔案較小的格式來優化 LCP 摟！</p><table><thead><tr><th align="left"></th><th align="center">支援度</th><th align="right">檔案大小</th><th align="right">畫面</th></tr></thead><tbody><tr><td align="left">PNG</td><td align="center">高</td><td align="right">大</td><td align="right">支援透明度，不失真壓縮所以畫面品質高</td></tr><tr><td align="left">JPEG</td><td align="center">高</td><td align="right">中</td><td align="right">不支援透明度，使用失真壓縮所以導致畫面品質降低</td></tr><tr><td align="left">WebP</td><td align="center">主流瀏覽器支援</td><td align="right">小</td><td align="right">支援透明度，畫面品質高</td></tr><tr><td align="left">AVIF</td><td align="center">少數瀏覽器支援</td><td align="right">小</td><td align="right">支援透明度，畫面品質高</td></tr></tbody></table><p>接下來我們會介紹用 CDN 的方式來優化 image</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="image-cdn"></a>image CDN<a class="hash-link" href="#image-cdn" title="Direct link to heading">#</a></h2><p>Image CDN 是一種網路服務，它主要的功能是圖片的轉換與優化的服務，我們預先把照片儲存在我們自己架設或是供應方提供的 server 裡，然後只要在需要用到的時候再去 call api 去拿這個照片就好了！</p><p>透過從 CDN 存取圖片的方式，我們可以不用在本地端儲存圖片，來減少前端檔案的大小，進而讓網頁可以跑更快！</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="使用-image-cdn-的方法"></a>使用 image CDN 的方法<a class="hash-link" href="#使用-image-cdn-的方法" title="Direct link to heading">#</a></h3><ul><li>自己架設 image CDN，透過 <a href="https://github.com/thumbor/thumbor" target="_blank" rel="noopener noreferrer">thumbor</a></li><li>Image CDN 服務提供者，常見的包含 <a href="https://cloudinary.com/" target="_blank" rel="noopener noreferrer">cloudinary</a>、<a href="https://www.cloudflare.com/cdn/" target="_blank" rel="noopener noreferrer">cloudflare</a>等</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="線上壓縮圖片"></a>線上壓縮圖片<a class="hash-link" href="#線上壓縮圖片" title="Direct link to heading">#</a></h2><p>最後一個我們介紹來優化圖片的方法是線上圖片壓縮器！做法是先透過線上圖片壓縮器把圖片檔案壓縮過後，再把他存到程式碼裡！
我推薦以下這兩個壓縮網站。</p><p><a href="https://compressor.io/" target="_blank" rel="noopener noreferrer">https://compressor.io/</a>
<a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer">https://tinypng.com/</a></p><p>額外補充 image 常見的問題</p><ol><li>如何作出響應式 image</li></ol><ul><li>用<code>srcset</code>來做響應式 image</li></ul><p>這裡推薦一個很棒的<code>srcset</code><a href="https://shubo.io/responsive-image/#%E7%82%BA%E5%9C%96%E7%89%87%E6%8C%87%E5%AE%9A%E5%A4%A7%E5%B0%8Fsizes-%E5%B1%AC%E6%80%A7" target="_blank" rel="noopener noreferrer">教學</a></p><ul><li>手寫 function，在不同視窗大小載入不同大小的 image</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">responsiveImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">image1x</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> image2x</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> image3x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> windowWidth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">innerWidth</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">windowWidth</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> windowWidth </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1800</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> image3x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> windowWidth </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1440</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> image2x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> windowWidth </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">768</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> image1x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> image1x</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>backgroundImage 的話可以使用 img-set<br><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/image/image-set" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/CSS/image/image-set</a></li></ul><ol start="2"><li>圖片很大跑不出來，或是間隔很久才跑出來？</li></ol><p>除了上面幾個讓圖片縮小的方法，也可以透過 progressive image 來增加使用者的體驗。progressive image 的想法是先載入一個檔案比較小的同一個 image，然後再載入大的 image，這樣使用者就不會有很長的沒有圖片的空檔，下面推薦一個不錯的學習資源。</p><p><a href="https://blog.logrocket.com/progressive-image-loading-react-tutorial/" target="_blank" rel="noopener noreferrer">progressive image</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="額外補充"></a>額外補充：<a class="hash-link" href="#額外補充" title="Direct link to heading">#</a></h3><p>lazy loading image 時使用 placeholder image 的方法：</p><p><a href="https://ithelp.ithome.com.tw/articles/10252723" target="_blank" rel="noopener noreferrer">推薦閱讀文章</a></p><p>面試題:</p><ol><li>圖片優化方法？</li><li>圖片在 loading 很慢跑不出來的時候要怎麼處理？</li></ol><p><a href="https://medium.com/%E6%8A%80%E8%A1%93%E7%AD%86%E8%A8%98/%E5%8A%A0%E9%80%9F%E7%B6%B2%E7%AB%99%E6%95%88%E8%83%BD-%E4%BE%86%E7%90%86%E8%A7%A3%E5%9C%96%E7%89%87%E7%9A%84%E5%84%AA%E5%8C%96%E5%90%A7-b3eea3d0296c" target="_blank" rel="noopener noreferrer">https://medium.com/%E6%8A%80%E8%A1%93%E7%AD%86%E8%A8%98/%E5%8A%A0%E9%80%9F%E7%B6%B2%E7%AB%99%E6%95%88%E8%83%BD-%E4%BE%86%E7%90%86%E8%A7%A3%E5%9C%96%E7%89%87%E7%9A%84%E5%84%AA%E5%8C%96%E5%90%A7-b3eea3d0296c</a></p><p><a href="https://www.cythilya.tw/2018/08/24/responsive-images/" target="_blank" rel="noopener noreferrer">https://www.cythilya.tw/2018/08/24/responsive-images/</a>
<a href="https://web.dev/optimize-vitals-lighthouse/" target="_blank" rel="noopener noreferrer">https://web.dev/optimize-vitals-lighthouse/</a>
<a href="https://juejin.cn/post/6844904024165056525" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6844904024165056525</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/bywater-blog/ironMan2022/coreWebVital"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« [鐵人賽 2022-擊敗前端面試大作戰] Core Web Vital and lighthouse</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/bywater-blog/ironMan2022/CSR"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">[鐵人賽 2022-擊敗前端面試大作戰] client-side-rendering vs server-side-rendering »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#preload-的功能" class="table-of-contents__link">preload 的功能？</a><ul><li><a href="#額外補充-preload-vs-prefetch-vs-preconnect" class="table-of-contents__link">額外補充： preload vs prefetch vs preconnect</a></li></ul></li><li><a href="#使用合適的圖片格式" class="table-of-contents__link">使用合適的圖片格式</a></li><li><a href="#image-cdn" class="table-of-contents__link">image CDN</a><ul><li><a href="#使用-image-cdn-的方法" class="table-of-contents__link">使用 image CDN 的方法</a></li></ul></li><li><a href="#線上壓縮圖片" class="table-of-contents__link">線上壓縮圖片</a><ul><li><a href="#額外補充" class="table-of-contents__link">額外補充：</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/bywater-blog/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/0529bill" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/lin-tse-175b4a158/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://0529bill.github.io/portfolio/#/portfolio/Resume" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Resume<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Bywater-blog. Built with Docusaurus.</div></div></div></footer></div>
<script src="/bywater-blog/assets/js/runtime~main.4cec0ec3.js"></script>
<script src="/bywater-blog/assets/js/main.4f39f6a4.js"></script>
</body>
</html>